Docker 是一个快速交付应用、运行应用的技术，是一个开源的容器引擎，可以轻松的为任何应用创建一个轻量级的、可移植的、自给自足的容器。

## 痛点

当前大型项目组件较多，运行环境也较为复杂，部署时会碰到一些问题:

* 依赖关系复杂，容易出现兼容问题
* 开发、测试、生产环境有差异

Docker 如何处理上述问题？

* 将应用的 lib（函数库）、Deps（依赖）、配置与应用一起打包，形成可移植的镜像
* 将每个应用放到一个**隔离容器**区运行，使用沙箱机制，相互隔离，避免了相互干扰

Docker 如何解决不同系统环境的问题？

* 将用户程序与所需要调用的系统函数库一起打包
* Docker 运行不同操作系统时，直接基于打包的库函数，去调用操作系统 Linux 内核来运行

## Docker 与虚拟机

虚拟机（ Virtual machine ），是在操作系统中模拟硬件设备，然后运行另一个操作系统，比如在 Windows 系统里面运行 Ubuntu 系统，从而实现在 Windows 上运行 Ubuntu 应用。

**区别**

| ![[Screenshot from 2022-09-03 20-33-36.png]] | ![[Screenshot from 2022-09-03 20-37-19.png]] |
|:---|:---|
  

| 特性   | Docker | 虚拟机    |
|:-----|:-------|:-------|
| 性能   | 接近原生   | 性能较差   |
| 硬盘占用 | 一般为 MB | 一般为 GB |
| 启动   | 秒级     | 分钟级    |  

## 镜像和容器

镜像（ Image ）: Docker 将应用程序及其需要的依赖、函数库、环境、配置等文件打包在一起，称为镜像。

容器（ Container ）: 镜像中的应用程序运行后形成的进程可以称为容器，Docker 会给容器做隔离，对外不可见。

DockerHub：是一个 Docker 镜像的托管平台。这样的平台称为 Docker Registry 。

![[Pasted image 20220903204535.png]]

## 架构

Docker 是一个 CS 架构的程序，由两部分组成：

* 服务端（ Server ）：Docker 守护进程，负责处理 Docker 指令，管理镜像、容器等。
* 客户端（Client）：通过命令或 RestApi 向 Docker 服务端发送指令。可以在本地或远程向服务端发送指令。

![[Pasted image 20220903205118.png]]