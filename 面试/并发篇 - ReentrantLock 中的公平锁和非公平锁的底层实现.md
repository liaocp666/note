公平锁和非公平锁底层都会使用 AQS 来进行排队，它们的区别在于：

线程在使用 lock() 方法时，如果时公平锁，会先检查 AQS 队列中是否有线程在排队，如果有，则当前线程也进行排队；如果是非公平锁，则不会去检查是否有线程在排队，直接竞争锁。

公平锁和非公平锁，一旦没竞争到锁，都会进行排队，当锁释放时，都是唤醒排在最前面的线程，所以非公平锁只是体现在线程加锁阶段，而没有体现在线程被唤醒阶段。

另外 ReentrantLock 是可重入锁。默认情况下，使用非公平锁。